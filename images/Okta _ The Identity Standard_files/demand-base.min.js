/*
    VWO Demand-Base integrations - 0.1.0
*/
!function(n,c,i){var e=function(){},f=[],v=[],a=function(n,i){i.e===n[0]&&i.c.apply(this,[n])},l=function(n,i){i.e&&i.e!==n[1]||i.v&&i.v!==n[2]||i.c.apply(this,[n])},o=function(n){for(var i=0;i<v.length;i++)a(n,v[i]);if("rH"===n[0]||"vS"===n[0])for(i=0;i<f.length;i++)l(n,f[i])},t=c.push;c.push=function(){var n=arguments[0];o(n),t.apply(c,[].slice.call(arguments))};var u=c.unshift;c.unshift=function(){var n=arguments[0];o(n),u.apply(c,[].slice.call(arguments))},n.onVariationApplied=function(n,i,o){"function"==typeof n&&(o=n,i=n=null);var t={e:n,v:i,c:o=o||e};f.push(t);for(var v=0;v<c.length;v++)"rH"!==c[v][0]&&"vS"!==c[v][0]||l(c[v],t)},n.onEventReceive=function(n,i){var o={e:n,c:i=i||e};v.push(o);for(var t=0;t<c.length;t++)a(c[t],o)}}(window.VWO=window.VWO||[],window._vwo_evq=window._vwo_evq||[]);
VWO.push(["onEventReceive","jI",function(){try{var VWO_POLL_INTERVAL=25,VWO_MAX_POLL_COUNT=40,DEMAND_BASE_KEY="",pollCount=0,demandBaseExpids=[],cssPaths="",checkSegment=window._vis_opt_check_segment=window._vis_opt_check_segment||{},vwoExpIds=window._vwo_exp_ids,vwoExp=window._vwo_exp,i,j,k;function appendScript(e){var o=document.createElement("script");o.src=e,o.onerror=function(){removeStyle("vwoDemandBase"),console.log("VWO: Error Ocuured while fetching the demandbase data")},document.getElementsByTagName("head")[0].appendChild(o)}function appendStyle(e,o){var t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("id",o),n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}function removeStyle(e){var o=document.getElementById(e);o&&o.parentNode.removeChild(o)}for(i=0;i<vwoExpIds.length;i++){var exp=vwoExp[vwoExpIds[i]],expId=vwoExpIds[i];if(0<=exp.name.indexOf("DemandBaseVWO")&&(checkSegment.global||checkSegment[vwoExpIds[i]]||-1===document.cookie.indexOf("_vis_opt_exp_"+expId+"_combi"))){if(eval(exp.segment_code),exp.manual=!0,-1===demandBaseExpids.indexOf(expId)&&demandBaseExpids.push(expId),"VISUAL"===exp.type)for(j in exp.sections)exp.sections.hasOwnProperty(j)&&exp.sections[j].path&&"head"!==exp.sections[j].path&&(cssPaths+=exp.sections[j].path+",");else if("VISUAL_AB"===exp.type)for(k in exp.comb_n)if(exp.comb_n.hasOwnProperty(k)&&exp.sections[1].variations[k]){var groups=JSON.parse(exp.sections[1].variations[k]);for(j=0;j<groups.length;j++)groups[j].xpath&&"head"!==groups[j].xpath&&(cssPaths+=groups[j].xpath+",")}DEMAND_BASE_KEY=window.vwoDB.KEY||DEMAND_BASE_KEY,VWO_POLL_INTERVAL=window.vwoDB.MAX||VWO_POLL_INTERVAL,VWO_MAX_POLL_COUNT=window.vwoDB.POLL||VWO_MAX_POLL_COUNT}}if(0<demandBaseExpids.length&&!document.getElementById("vwoDemandBase")){cssPaths=cssPaths.slice(0,-1)+"{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}",appendScript("https://api.company-target.com/api/v2/ip.js?key="+DEMAND_BASE_KEY+"&var=vwo_organization"),appendStyle(cssPaths,"vwoDemandBase");var poll=setInterval(function(){pollCount++,window.vwo_organization&&(window.VWO=window.VWO||[],window.VWO.push(["activate",!1,demandBaseExpids,!0])),(window.vwo_organization||pollCount===VWO_MAX_POLL_COUNT)&&(clearInterval(poll),removeStyle("vwoDemandBase"))},VWO_POLL_INTERVAL)}}catch(e){window.console&&(console.log("VWO: DB__ "+e.message),removeStyle("vwoDemandBase"))}}]);